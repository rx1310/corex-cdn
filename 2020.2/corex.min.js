/*!
 * @author      rx1310 <rx1310@inbox.ru>
 * @copyright   Copyright (c) o1310, 2020
 * @license     MIT License
 */

const CoreX={ID_BACKDROP:"CoreX_UI_BACKDROP",ID_THEME_LIGHT:"COREX_UI_THEME_LIGHT",ID_THEME_DARK:"COREX_UI_THEME_DARK"};function init(){initBackdrop(),initNavDrawer(),initLazyLoadImg()}function goBack(){window.history.back()}function goForward(){window.history.forward()}function setTheme(e){localStorage.setItem("theme",e),document.documentElement.className=e}function toggleTheme(){localStorage.getItem("theme")===CoreX.ID_THEME_DARK?setTheme(CoreX.ID_THEME_LIGHT):setTheme(CoreX.ID_THEME_DARK)}function applyTheme(){localStorage.getItem("theme")===CoreX.ID_THEME_DARK?setTheme(CoreX.ID_THEME_DARK):setTheme(CoreX.ID_THEME_LIGHT)}function initLazyLoadImg(){[].forEach.call(document.querySelectorAll("img[data-src]"),function(e){e.setAttribute("src",e.getAttribute("data-src")),e.onload=function(){e.removeAttribute("data-src")}})}function initBackdrop(){var e=document.createElement("div");e.className="backdrop",e.style.backgroundColor="rgba(0, 0, 0, 0);",e.style.visibility="hidden",e.id=CoreX.ID_BACKDROP,e.onclick=function(){hideNavDrawer()},document.body.appendChild(e)}function showBackdrop(){document.getElementById(CoreX.ID_BACKDROP).style.visibility="visible",document.getElementById(CoreX.ID_BACKDROP).style.backgroundColor="rgba(0, 0, 0, 0.5)"}function hideBackdrop(){document.getElementById(CoreX.ID_BACKDROP).style.visibility="hidden",document.getElementById(CoreX.ID_BACKDROP).style.backgroundColor="rgba(0, 0, 0, 0)"}function initNavDrawer(){var e=document.getElementsByClassName("navdrawer")[0];void 0!==e&&(e.style.left="-300px")}function showNavDrawer(){showBackdrop();var e=document.getElementsByClassName("navdrawer")[0];void 0!==e&&(e.style.left="0px",e.style.visibility="visible")}function hideNavDrawer(){hideBackdrop();var e=document.getElementsByClassName("navdrawer")[0];void 0!==e&&(e.style.left="-300px")}applyTheme(),window.onload=init;